(function(e){function t(t){for(var n,i,o=t[0],l=t[1],h=t[2],c=0,u=[];c<o.length;c++)i=o[c],s[i]&&u.push(s[i][0]),s[i]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);p&&p(t);while(u.length)u.shift()();return a.push.apply(a,h||[]),r()}function r(){for(var e,t=0;t<a.length;t++){for(var r=a[t],n=!0,i=1;i<r.length;i++){var o=r[i];0!==s[o]&&(n=!1)}n&&(a.splice(t--,1),e=l(l.s=r[0]))}return e}var n={},i={index:0},s={index:0},a=[];function o(e){return l.p+"js/"+({}[e]||e)+"."+{"chunk-0e56cd36":"ceaf108b","chunk-2c514c87":"914d7dbe","chunk-2d0a3938":"9b613df6","chunk-2d0bdce7":"2338df14","chunk-2d0c0629":"3b2389eb","chunk-2d0d7fc6":"9e54d8bd","chunk-2d0e2114":"ea4f391c","chunk-2d0e5f4f":"96808327","chunk-2d226c8c":"fbd4b334","chunk-2d229d4d":"53dcede4","chunk-3446efa8":"46ae8d72","chunk-5a941ee0":"6565f208","chunk-60e041d4":"c235bf3e","chunk-74b47687":"0b1d7349","chunk-7f9f7390":"83256a35","chunk-eda4aa94":"6648a41a"}[e]+".js"}function l(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,l),r.l=!0,r.exports}l.e=function(e){var t=[],r={"chunk-0e56cd36":1,"chunk-60e041d4":1,"chunk-74b47687":1,"chunk-eda4aa94":1};i[e]?t.push(i[e]):0!==i[e]&&r[e]&&t.push(i[e]=new Promise(function(t,r){for(var n="css/"+({}[e]||e)+"."+{"chunk-0e56cd36":"26feb464","chunk-2c514c87":"31d6cfe0","chunk-2d0a3938":"31d6cfe0","chunk-2d0bdce7":"31d6cfe0","chunk-2d0c0629":"31d6cfe0","chunk-2d0d7fc6":"31d6cfe0","chunk-2d0e2114":"31d6cfe0","chunk-2d0e5f4f":"31d6cfe0","chunk-2d226c8c":"31d6cfe0","chunk-2d229d4d":"31d6cfe0","chunk-3446efa8":"31d6cfe0","chunk-5a941ee0":"31d6cfe0","chunk-60e041d4":"83f95e61","chunk-74b47687":"4478fdae","chunk-7f9f7390":"31d6cfe0","chunk-eda4aa94":"86ab4d2e"}[e]+".css",s=l.p+n,a=document.getElementsByTagName("link"),o=0;o<a.length;o++){var h=a[o],c=h.getAttribute("data-href")||h.getAttribute("href");if("stylesheet"===h.rel&&(c===n||c===s))return t()}var u=document.getElementsByTagName("style");for(o=0;o<u.length;o++){h=u[o],c=h.getAttribute("data-href");if(c===n||c===s)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var n=t&&t.target&&t.target.src||s,a=new Error("Loading CSS chunk "+e+" failed.\n("+n+")");a.request=n,delete i[e],p.parentNode.removeChild(p),r(a)},p.href=s;var d=document.getElementsByTagName("head")[0];d.appendChild(p)}).then(function(){i[e]=0}));var n=s[e];if(0!==n)if(n)t.push(n[2]);else{var a=new Promise(function(t,r){n=s[e]=[t,r]});t.push(n[2]=a);var h,c=document.createElement("script");c.charset="utf-8",c.timeout=120,l.nc&&c.setAttribute("nonce",l.nc),c.src=o(e),h=function(t){c.onerror=c.onload=null,clearTimeout(u);var r=s[e];if(0!==r){if(r){var n=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src,a=new Error("Loading chunk "+e+" failed.\n("+n+": "+i+")");a.type=n,a.request=i,r[1](a)}s[e]=void 0}};var u=setTimeout(function(){h({type:"timeout",target:c})},12e4);c.onerror=c.onload=h,document.head.appendChild(c)}return Promise.all(t)},l.m=e,l.c=n,l.d=function(e,t,r){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(l.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)l.d(r,n,function(t){return e[t]}.bind(null,n));return r},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/xdh-map/",l.oe=function(e){throw console.error(e),e};var h=window["webpackJsonp"]=window["webpackJsonp"]||[],c=h.push.bind(h);h.push=t,h=h.slice();for(var u=0;u<h.length;u++)t(h[u]);var p=c;a.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("c31f")},"1c44":function(e,t,r){},"1d46":function(e,t,r){},"1ff8":function(e,t,r){"use strict";var n=r("1d46"),i=r.n(n);i.a},"42b1":function(e,t,r){"use strict";var n=r("880c"),i=r.n(n);i.a},"4c9c":function(e,t,r){},"880c":function(e,t,r){},c31f:function(e,t,r){"use strict";r.r(t);var n=r("2b0e"),i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("router-view")},s=[],a={},o=a,l=(r("42b1"),r("2877")),h=Object(l["a"])(o,i,s,!1,null,null,null),c=h.exports,u=r("8c4f");n["a"].use(u["a"]);const p=new u["a"]({routes:[{path:"/",component:()=>r.e("chunk-60e041d4").then(r.bind(null,"694d")),children:[{path:"",component:()=>r.e("chunk-2d229d4d").then(r.bind(null,"deb8"))},{path:"text",component:()=>r.e("chunk-2d0bdce7").then(r.bind(null,"2e20"))},{path:"rectangle",component:()=>r.e("chunk-2d0e5f4f").then(r.bind(null,"9761"))},{path:"polygon",component:()=>r.e("chunk-2d0a3938").then(r.bind(null,"0387"))},{path:"circle",component:()=>r.e("chunk-2d226c8c").then(r.bind(null,"e9ac"))},{path:"line",component:()=>r.e("chunk-2c514c87").then(r.bind(null,"1105"))},{path:"pointer",component:()=>r.e("chunk-2d0c0629").then(r.bind(null,"420e"))},{path:"performance",component:()=>r.e("chunk-2d0e2114").then(r.bind(null,"7cb4"))},{path:"image",component:()=>r.e("chunk-5a941ee0").then(r.bind(null,"40b3"))},{path:"html",component:()=>r.e("chunk-0e56cd36").then(r.bind(null,"d53d"))},{path:"icon",component:()=>r.e("chunk-eda4aa94").then(r.bind(null,"7bf3"))},{path:"popup",component:()=>r.e("chunk-7f9f7390").then(r.bind(null,"4e2f"))},{path:"heat",component:()=>r.e("chunk-2d0d7fc6").then(r.bind(null,"78c2"))},{path:"echarts",component:()=>r.e("chunk-74b47687").then(r.bind(null,"dd28"))},{path:"track",component:()=>r.e("chunk-3446efa8").then(r.bind(null,"73ad"))}]}]});var d=p,m=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{ref:"map",staticClass:"xdh-map",style:e.styles},[e._t("default")],2)},f=[],y=r("5eee"),g=r("a2c7"),v=r("3e6b"),b=r("5831");const x={OSM:{title:"默认",server:null,preview:""},Baidu:{title:"百度地图",server:"http://online{index}.map.bdimg.com/onlinelabel/?qt=tile&x={x}&y={y}&z={z}&styles=pl&udt=20170301&scaler=1&p=1",preview:""},Amap:{title:"高德地图",server:"http://webrd03.is.autonavi.com/appmaptile?style=8&x={x}&y={y}&z={z}&lang=zh_cn",preview:""},SuperMap:{title:"超图",server:"http://53.1.238.17/iserver/services/map-pgisvec/rest/maps/pgisvecv1",preview:""},Google:{title:"谷歌地图",server:"http://172.19.40.108:8081/maptile/googlemaps/roadmap/{z}/{x}/{y}.png",preview:""},Founder:{title:"方正PGIS",server:"http://127.0.0.1:3000/proxy",preview:""}};function w(e){const t=Object.keys(x),r=t.includes(e);if(!r)throw new Error(`图层配置 ${e} 不存在`);return r}function E(e){Object.keys(e).forEach(t=>{const r=e[t];Object.assign(x[t],r)})}function S(e=null,t=!1){return e&&w(e)?x[e]:t?Object.keys(x).map(e=>{return{name:e,...x[e]}}):x}var k=r("480c"),O=r("d0e9"),M=r("2ef1"),_=r("78db"),I=r("6ed8"),j=r("d510"),N=r("91b1"),C=r("256f"),T=r("0af5"),R=r("345d"),$=r("089b");const P={METER:"METER",KILOMETER:"KILOMETER",MILE:"MILE",YARD:"YARD",DEGREE:"DEGREE",MILLIMETER:"MILLIMETER",CENTIMETER:"CENTIMETER",INCH:"INCH",DECIMETER:"DECIMETER",FOOT:"FOOT",SECOND:"SECOND",MINUTE:"MINUTE",RADIAN:"RADIAN"},F={ISERVER:"ISERVER",IPORTAL:"IPORTAL",ONLINE:"ONLINE"};function A(e,t,r){let n=1/.0254,i=D(r),s=e*t*n*i;return s=1/s,s}function G(e,t,r){let n=1/.0254,i=this.getMeterPerMapUnit(r),s=e*t*n*i;return s=1/s,s}function D(e){let t,r=6378137;if(e===P.METER)t=1;else if(e===P.DEGREE)t=2*Math.PI*r/360;else if(e===P.KILOMETER)t=.001;else if(e===P.INCH)t=1/.025399999918;else{if(e!==P.FOOT)return t;t=.3048}return t}class L extends N["a"]{constructor(e){if(e=e||{},void 0===e.url)return;e.format=e.format?e.format:"png";let t=e.url+"/tileImage."+e.format+"?";e.serverType=e.serverType||F.ISERVER,super({attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,logo:e.logo,opaque:e.opaque,projection:e.projection,reprojectionErrorThreshold:e.reprojectionErrorThreshold,state:e.state,tileClass:e.tileClass,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:o,url:e.url,urls:e.urls,wrapX:void 0!==e.wrapX&&e.wrapX,cacheEnabled:e.cacheEnabled,layersID:e.layersID}),e.tileProxy&&(this.tileProxy=e.tileProxy),this.options=e,this._url=e.url,this.tileSetsIndex=-1,this.tempIndex=-1;let r=this;function n(){let t=this,r={};return r["redirect"]=void 0!==e.redirect&&e.redirect,r["transparent"]=void 0===e.transparent||e.transparent,r["cacheEnabled"]=!(!1===e.cacheEnabled),t.cacheEnabled=r["cacheEnabled"],r["_cache"]=r["cacheEnabled"],this.origin&&(r["origin"]=JSON.stringify({x:this.origin[0],y:this.origin[1]})),e.prjCoordSys&&(r["prjCoordSys"]=JSON.stringify(e.prjCoordSys)),e.layersID&&(r["layersID"]=e.layersID.toString()),e.overlapDisplayed?r["overlapDisplayed"]=!0:(r["overlapDisplayed"]=!1,e.overlapDisplayedOptions&&(r["overlapDisplayedOptions"]=t.overlapDisplayedOptions.toString())),e.cacheEnabled&&e.tileversion&&(r["tileversion"]=e.tileversion.toString()),r}function i(){return this._paramsChanged&&(this._layerUrl=s.call(this),this._paramsChanged=!1),this._layerUrl||s.call(this)}function s(){return this._layerUrl=t+encodeURI(a.call(this)),this._layerUrl}function a(){this.requestParams=this.requestParams||n.call(this);let e=[];for(let t in this.requestParams)e.push(t+"="+this.requestParams[t]);return e.join("&")}function o(t,n,s){r.tileGrid||(r.extent?(r.tileGrid=L.createTileGrid(e.extent),r.resolutions&&(r.tileGrid.resolutions=r.resolutions)):("EPSG:3857"===s.getCode()&&(r.tileGrid=L.createTileGrid([-20037508.3427892,-20037508.3427892,20037508.3427892,20037508.3427892]),r.extent=[-20037508.3427892,-20037508.3427892,20037508.3427892,20037508.3427892]),"EPSG:4326"===s.getCode()&&(r.tileGrid=L.createTileGrid([-180,-90,180,90]),r.extent=[-180,-90,180,90]))),r.origin=r.tileGrid.getOrigin(0);let a=t[0],o=t[1],l=-t[2]-1,h=r.tileGrid.getResolution(a),c=96,u=s.getUnits();"degrees"===u&&(u=P.DEGREE),"m"===u&&(u=P.METER);let p=A(h,c,u),d=Object(R["c"])(r.tileGrid.getTileSize(a,r.tmpSize)),m=i.call(r),f=m+encodeURI("&x="+o+"&y="+l+"&width="+d[0]+"&height="+d[1]+"&scale="+p);return r.tileProxy&&(f=r.tileProxy+encodeURIComponent(f)),r.cacheEnabled||(f+="&_t="+(new Date).getTime()),f}}setTileSetsInfo(e){this.tileSets=e,Array.isArray(this.tileSets)&&(this.tileSets=e[0]),this.tileSets&&(this.dispatchEvent({type:"tilesetsinfoloaded",value:{tileVersions:this.tileSets.tileVersions}}),this.changeTilesVersion())}lastTilesVersion(){this.tempIndex=this.tileSetsIndex-1,this.changeTilesVersion()}nextTilesVersion(){this.tempIndex=this.tileSetsIndex+1,this.changeTilesVersion()}changeTilesVersion(){let e=this;if(null==e.tileSets)return;if(e.tempIndex===e.tileSetsIndex||this.tempIndex<0)return;let t=e.tileSets.tileVersions;if(t&&e.tempIndex<t.length&&e.tempIndex>=0){let r=t[e.tempIndex].name,n=e.mergeTileVersionParam(r);n&&(e.tileSetsIndex=e.tempIndex,e.dispatchEvent({type:"tileversionschanged",value:{tileVersion:t[e.tempIndex]}}))}}updateCurrentTileSetsIndex(e){this.tempIndex=e}mergeTileVersionParam(e){return!!e&&(this.requestParams["tileversion"]=e,this._paramsChanged=!0,this.refresh(),!0)}static optionsFromMapJSON(e,t){let r={};r.url=e,r.crossOrigin="anonymous";let n=[t.bounds.left,t.bounds.bottom,t.bounds.right,t.bounds.top],i=s();function s(){let e,r=17,i=96,s=n[2]-n[0],a=n[3]-n[1],o=s>=a?s:a;e=o===s?o/t.viewer.width:o/t.viewer.height;let l=[],h=P.METER;if(t.coordUnit===P.DEGREE&&(h=P.DEGREE),t.visibleScalesEnabled&&t.visibleScales&&t.visibleScales.length>0)for(let n=0;n<t.visibleScales.length;n++)l.push(G(t.visibleScales[n],i,h));else for(let t=0;t<r;t++)l.push(e/Math.pow(2,t));function c(e,t){return t-e}return l.sort(c)}return r.tileGrid=new _["a"]({extent:n,resolutions:i}),r}static createTileGrid(e,t,r,n,i){let s=Object($["a"])({extent:e,maxZoom:t,minZoom:r,tileSize:n});return new _["a"]({extent:e,minZoom:r,origin:i,resolutions:s.getResolutions(),tileSize:s.getTileSize()})}}function z(e){const t=Object(C["c"])("EPSG:3857"),r=new _["a"]({origin:[0,0],resolutions:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18].map(function(e){return Math.pow(2,18-e)})});let n=new N["a"]({projection:t,tileGrid:r,tileUrlFunction:function(t){const r=t[0],n=t[1],i=t[2],s=Math.ceil(5*Math.random());return e.server.replace(/{x}/g,n).replace(/{y}/g,i).replace(/{z}/g,r).replace(/{index}/g,s)}});return new k["a"]({source:n})}function V(e){const t=256,r=Object(C["c"])("EPSG:4326"),n=r.getExtent(),i=Object(T["E"])(n)/t;let s=[],a=[];for(let h=0;h<=20;h++)s[h]=h,a[h]=i/Math.pow(2,h);const o=new I["b"]({origin:Object(T["C"])(n),resolutions:a,matrixIds:s}),l=e.server;return new k["a"]({source:new j["a"]({url:l,tileGrid:o,projection:r,tileLoadFunction:function(e,t){const r=e.tileCoord;let n=r[0],i=r[1],s=-(r[2]+1);e.getImage().src=`${l}?Service=getImage&Type=RGB&ZoomOffset=0&Col=${i}&Row=${s}&Zoom=${n}&V=0.3`}}),wrapX:!1})}function X(e="OSM"){if(!w(e))return null;const t=S(e);let r=null;switch(e){case"OSM":r=new k["a"]({source:new O["a"]});break;case"Google":case"Amap":r=new k["a"]({source:new M["a"]({url:t.server})});break;case"Baidu":r=z(t);break;case"SuperMap":r=new k["a"]({source:new L({url:t.server}),projection:"EPSG:4326"});break;case"Founder":r=V(t);break}return r}var q={name:"XdhMap",props:{minZoom:{type:Number,default:1},maxZoom:{type:Number,default:20},zoom:{type:Number,default:10},center:{type:Array,default(){return[120,30]}},type:{type:String,default:"OSM"},layerConfig:{type:Function,default(){return Promise.resolve({})}}},data(){return{cursor:null}},computed:{styles(){return{cursor:this.cursor}}},methods:{_eventHandler(e){const t=this.getFeatureAtPixel(e.pixel);if(t){const r=this._featureEvents[e.type]||[],n=r.find(e=>e.feature===t);n&&n.listener(e,n.feature)}},_bind(e,t,r,n){let i=this._featureEvents[e];i||(this._featureEvents[e]=[],this.map.on(e,this._eventHandler)),this._featureEvents[e].push({type:e,feature:t,listener:r,uid:n})},bindEvents(e){if(!this.map)return;const t=e.$listeners;Object.keys(t).forEach(r=>{this._bind(r,e.feature,t[r],e._uid)})},unbindEvents(e){if(!this.map)return;const t=e.$listeners,r=e._uid;Object.keys(t).forEach(e=>{const t=this._featureEvents[e]||[];t.splice(t.findIndex(e=>e.uid===r),1),0===t.length&&(delete this._featureEvents[e],this.map.un(e,this._eventHandler))})},addFeature(e){if(this.vectorLayer){const t=this.vectorLayer.getSource();t.addFeature(e)}else{let t=new b["a"]({features:[e]});this.vectorLayer=new v["a"]({source:t}),this.map.addLayer(this.vectorLayer)}},removeFeature(e){if(!this.vectorLayer)return;const t=this.vectorLayer.getSource();t.removeFeature(e)},getFeatureAtPixel(e){return this.map.forEachFeatureAtPixel(e,function(e){return e})},changeType(e){if(!e)return;const t=this.map.getLayers().getArray(),r=t.find(e=>"TILE"===e.type);r&&(this.map.removeLayer(r),r.disposeInternal()),this.map.addLayer(X(e))},resize(){this.map.updateSize()},zoomTo(e){const t=this.map.getView();t.animate({zoom:Number.parseInt(e)})},zoomIn(){const e=this.map.getView();this.zoomTo(e.getZoom()+1)},zoomOut(){const e=this.map.getView();this.zoomTo(e.getZoom()-1)},moveTo(e){const t=this.map.getView();t.animate({center:e})},setCursor(e){const t=this.getFeatureAtPixel(e.pixel);t&&t._vm&&t._vm.cursor?this.cursor=t._vm.cursor:this.cursor=null}},created(){this.isMap=!0,this._featureEvents={},this.layerConfig().then(e=>{E(e)})},mounted(){const e=X(this.type),t=new g["a"]({projection:"EPSG:4326",center:this.center,zoom:this.zoom,maxZoom:this.maxZoom,minZoom:this.minZoom});this.map=new y["a"]({layers:[e],target:this.$refs.map,view:t,controls:[]}),this.$emit("ready",this.map,this),Object.keys(this.$listeners).forEach(e=>{this.map.on(e,this.$listeners[e])}),this.map.on("pointermove",this.setCursor)},beforeDestroy(){this.map&&(Object.keys(this.$listeners).forEach(e=>{this.map.un(e,this.$listeners[e])}),this.map.un("pointermove",this.setCursor),this.map.disposeInternal())}},B=q,H=Object(l["a"])(B,m,f,!1,null,null,null),U=H.exports;U.install=function(e){e.component(U.name,U)};var Z=U,J=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"xdh-map-text hidden"})},W=[],K=r("2c2d"),Y=r("a567"),Q=r("ce2c"),ee=r("83a6"),te=r("6cbf"),re=r("ab77"),ne=r("ab35"),ie=r("35d8"),se=r("8682"),ae=r("6c77"),oe=r("8295");const le={Atlas:K["a"],AtlasManager:Y["a"],Circle:Q["a"],Fill:ee["a"],Icon:te["a"],IconImage:re["a"],Image:ne["a"],RegularShape:ie["a"],Stroke:se["a"],Style:ae["b"],Text:oe["a"]};function he(e){if(e&&e.className&&le[e.className]){let t={};return Object.keys(e).map(r=>{"className"!==r&&("object"===typeof e[r]&&e[r].className?t[r]=he(e[r]):t[r]=e[r])}),new le[e.className](t)}}var ce=r("f403"),ue=r("4cdf");const pe=[Array,String,Boolean,Object,Function];function de([e,...t],r=!1){return e.toUpperCase()+(r?t.join("").toLowerCase():t.join(""))}function me(e,t){let r={};return Object.keys(t).forEach(n=>{const i=e+de(n);r[i]=t[n]}),r}function fe(e,t){let r={};return Object.keys(t).forEach(t=>{r[t]=e+de(t)}),r}function ye(e,t,r){let n={},i=fe(t,r);return Object.keys(r).forEach(t=>{n[t]=e[i[t]]}),n}function ge(){return he({...this.baseStyleRender(),fill:{className:"Fill",color:this.fill},stroke:this.strokeRender(),text:this.textRender()})}function ve(){const e=Array.from(arguments).map(e=>e.props||{}),t=Object.assign({},...e),r=Object.create(null);return Object.entries(t).forEach(e=>{const t=e[0];r[t]=pe.includes(e[1])?{type:e[1]}:e[1]}),r}function be(){let e=this.$parent;while(e&&!e.isMap)e=e.$parent;return e}function xe(e){this.parent&&this.parent.map?e(this.parent.map,this.parent):this.parent.$once("ready",(t,r)=>{e(t,r)})}var we={methods:{draw(){const e=this.createGeometry();this.feature=new ue["a"](e),this.setStyle(),this.feature._vm=this,this.parent&&(this.parent.addFeature(this.feature),this.parent.bindEvents(this)),this.$emit("draw",this.feature)},update(){if(!this.feature)return;const e=this.createGeometry();this.feature.setGeometry(e),this.$emit("update",this.feature)},setStyle(){const e=this.createStyle();this.feature&&this.feature.setStyle(e)},redraw(){this.update(),this.setStyle()}},created(){this.parent=be.call(this)},mounted(){xe.call(this,this.draw)},beforeDestroy(){this.parent&&this.feature&&(this.feature._vm=null,this.feature.disposeInternal(),this.parent.removeFeature(this.feature),this.parent.unbindEvents(this))}},Ee={props:{position:Array,zIndex:Number,fill:String,cursor:String},watch:{position:{deep:!0,handler(){this.update()}}},computed:{coordinate(){return this.position.map(e=>Number.parseFloat(e))}},methods:{baseStyleRender(){return{className:"Style",zIndex:this.zIndex,fill:this.fill}}}};const Se={color:{type:String,default:"transparent"},lineCap:{type:String,default:"round"},lineJoin:{type:String,default:"round"},lineDash:Array,lineDashOffset:Number,miterLimit:Number,width:Number},ke=me("stroke",Se);var Oe={props:{...ke},methods:{strokeRender(){return{className:"Stroke",...ye(this,"stroke",Se)}}}},Me={props:{text:String,color:String,font:String,background:{type:String,default:"transparent"}},computed:{fontWithFamily(){return`${this.font} sans-serif`}},watch:{text(){this.setStyle()}},methods:{textRender(){return{className:"Text",text:this.text,font:this.fontWithFamily,fill:{className:"Fill",color:this.color},backgroundFill:{className:"Fill",color:this.background}}}}},_e={mounted(){this.$el&&this.$el.parentNode&&(this.$el.parentNode.removeChild(this.$el),this.$el=null)}},Ie=function(e){return{props:{...e},methods:{styleFactory(){let t={};return Object.keys(e).forEach(e=>{t[e]=this[e]}),t}}}};const je={maxAngle:Number,offsetX:Number,offsetY:Number,overflow:Boolean,scale:Number,rotateWithView:Boolean,rotation:Number,textAlign:String,textBaseline:String,padding:Array},Ne=Ie(je),Ce={position:{type:Array,required:!0}},Te=ve(Ee,Oe,Me,Ne,{props:Ce});var Re={name:"XdhMapText",mixins:[we,Ee,Oe,Me,Ne,_e],props:Te,methods:{createStyle(){return he({...this.baseStyleRender(),text:{...this.textRender(),backgroundStroke:this.strokeRender(),...this.styleFactory()}})},createGeometry(){return new ce["a"](this.coordinate)}}},$e=Re,Pe=Object(l["a"])($e,J,W,!1,null,null,null),Fe=Pe.exports;Fe.install=function(e){e.component(Fe.name,Fe)};var Ae=Fe,Ge=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("xdh-map-polygon",e._b({ref:"polygon",attrs:{coordinates:e.coords},on:{draw:e.handleDraw}},"xdh-map-polygon",e.$props,!1))},De=[],Le=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div")},ze=[],Ve=r("5bc3");const Xe={coordinates:{type:Array,default(){return[]}}},qe=ve({props:Xe},Ee,Oe,Me);delete qe.position;var Be={name:"XdhMapPolygon",mixins:[we,Ee,Oe,Me,_e],props:qe,watch:{coordinates(){this.update()}},methods:{createStyle(){return ge.call(this)},createGeometry(){return new Ve["a"]([this.coordinates])}}},He=Be,Ue=Object(l["a"])(He,Le,ze,!1,null,null,null),Ze=Ue.exports;const Je={width:{type:Number,default:0,required:!0},height:{type:Number,default:0,required:!0}},We=ve({props:Je},Ze);delete We.coordinates;var Ke={name:"XdhMapRectangle",mixins:[_e],components:{XdhMapPolygon:Ze},props:We,computed:{coords(){const e=(this.$attrs.position||[]).map(e=>Number.parseFloat(e));return[e,[e[0]+this.width,e[1]],[e[0]+this.width,e[1]-this.height],[e[0],e[1]-this.height],e]}},methods:{handleDraw(e){this.feature=e}}},Ye=Ke,Qe=Object(l["a"])(Ye,Ge,De,!1,null,null,null),et=Qe.exports;et.install=function(e){e.component(et.name,et)};var tt=et;Text.install=function(e){e.component(Ze.name,Ze)};var rt=Ze,nt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div")},it=[],st=r("f822");const at={radius:{type:Number,required:!0}},ot=ve({props:at},Ee,Oe,Me);var lt={name:"XdhMapCircle",mixins:[we,Ee,Oe,Me,_e],props:ot,watch:{radius(){this.update()}},methods:{createStyle(){return ge.call(this)},createGeometry(){return new st["a"](this.coordinate,this.radius)}}},ht=lt,ct=Object(l["a"])(ht,nt,it,!1,null,null,null),ut=ct.exports;ut.install=function(e){e.component(ut.name,ut)};var pt=ut,dt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div")},mt=[],ft=r("7a09");const yt={routes:{type:Array,default(){return[]}},arrow:{type:String},arrowAnchor:{type:Array,default(){return[.75,.5]}},arrowEach:{type:Boolean}},gt=ve({props:yt},Ee,Oe,Me);delete gt.position;var vt={name:"XdhMapLine",mixins:[we,Ee,Oe,Me,_e],props:gt,watch:{routes(){this.update()}},methods:{arrowStyle(e,t){const r=t[0]-e[0],n=t[1]-e[1],i=Math.atan2(n,r);return he({className:"Style",geometry:new ce["a"](t),image:{className:"Icon",src:this.arrow,anchor:this.arrowAnchor,rotateWithView:!0,rotation:-i}})},lastSegment(){const e=this.routes.length;if(e>=2)return this.arrowStyle(this.routes[e-2],this.routes[e-1])},createStyle(){const e=this.feature,t=e.getGeometry();let r=[ge.call(this)];return this.arrow&&(this.arrowEach?t.forEachSegment((e,t)=>{r.push(this.arrowStyle(e,t))}):r.push(this.lastSegment())),r},createGeometry(){return new ft["a"](this.routes)}}},bt=vt,xt=Object(l["a"])(bt,dt,mt,!1,null,null,null),wt=xt.exports;wt.install=function(e){e.component(wt.name,wt)};var Et=wt,St=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"xdh-map-placement",class:e.placement,style:e.styles},[e._t("default")],2)},kt=[],Ot={name:"placement",props:{placement:{type:String,default:"left-bottom",validator(e){return["left-top","center-top","right-top","left-center","center-center","right-center","left-bottom","center-bottom","right-bottom"].includes(e)}},zIndex:{type:Number,default:1},margin:{type:Array,default(){return[0,0,0,0]}}},computed:{styles(){return{zIndex:this.zIndex,margin:this.margin.map(e=>`${e}px`).join(" ")}}}},Mt=Ot,_t=Object(l["a"])(Mt,St,kt,!1,null,null,null),It=_t.exports;It.install=function(e){e.component(It.name,It)};var jt=It,Nt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("xdh-map-placement",e._b({staticClass:"xdh-map-pointer"},"xdh-map-placement",e.$props,!1),[r("div",{ref:"btn",staticClass:"xdh-map-pointer__btn",class:{"is-lock":e.lock},attrs:{title:"点击复制"},on:{click:e.copy}},[e._v(e._s(e.coordinate.join(", "))+"\n  ")])])},Ct=[],Tt=r("b311"),Rt=r.n(Tt);const $t={precision:{type:Number,default:6}},Pt=ve({props:$t},jt);var Ft={name:"XdhMapPointer",components:{XdhMapPlacement:jt},props:Pt,data(){return{coordinate:[0,0],lock:!1}},methods:{ready(e,t){this.coordinate=t.center,e.on("pointermove",this.move),e.on("click",this.pick),this.map=e},update(e){this.coordinate=e.coordinate.map(e=>e.toFixed(this.precision))},move(e){this.lock||this.update(e)},pick(e){this.lock=!0,this.update(e)},copy(){this.$emit("copy",this.coordinate),this.lock=!1}},created(){this.parent=be.call(this)},mounted(){this.clipboard=new Rt.a(this.$refs.btn,{text:e=>{return this.coordinate.join(", ")}}),this.clipboard.on("success",this.copy),xe.call(this,this.ready)},beforeDestroy(){this.clipboard&&this.clipboard.destroy(),this.map&&(this.map.un("pointermove",this.move),this.map.un("click",this.pick))}},At=Ft,Gt=Object(l["a"])(At,Nt,Ct,!1,null,null,null),Dt=Gt.exports;Dt.install=function(e){e.component(Dt.name,Dt)};var Lt=Dt,zt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div")},Vt=[];const Xt={anchor:Array,crossOrigin:String,offset:Array,opacity:Number,scale:Number,rotateWithView:Boolean,rotation:Number,src:String},qt=Ie(Xt),Bt=ve(Ee,Oe,Me,qt);var Ht={name:"XdhMapImage",mixins:[we,Ee,Oe,Me,qt,_e],props:Bt,watch:{radius(){this.update()}},methods:{createStyle(){return he({...this.baseStyleRender(),image:{className:"Icon",...this.styleFactory()}})},createGeometry(){return new ce["a"](this.coordinate)}}},Ut=Ht,Zt=Object(l["a"])(Ut,zt,Vt,!1,null,null,null),Jt=Zt.exports;Jt.install=function(e){e.component(Jt.name,Jt)};var Wt=Jt,Kt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"xdh-map-html"},[e._t("default")],2)},Yt=[],Qt=r("0710"),er={name:"XdhMapHtml",props:{positioning:{type:String,default:"center-center",validator(e){return["bottom-left","bottom-center","bottom-right","center-left","center-center","center-right","top-left","top-center","top-right"].includes(e)}},position:Array,offset:Array,stopEvent:{type:Boolean,default:!0},insertFirst:Boolean,className:String},watch:{position(){this.show()}},methods:{addOverlay(e){const t=this.$props;t.element=this.$el,this.overlay=new Qt["a"](t),e.addOverlay(this.overlay)},show(e){this.overlay&&this.overlay.setPosition(e||this.position)},hide(){this.overlay&&this.overlay.setPosition(null)}},created(){this.parent=be.call(this),xe.call(this,this.addOverlay)},beforeDestroy(){this.overlay&&this.parent&&this.parent.map.removeOverlay(this.overlay)}},tr=er,rr=Object(l["a"])(tr,Kt,Yt,!1,null,null,null),nr=rr.exports;nr.install=function(e){e.component(nr.name,nr)};var ir=nr,sr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("xdh-map-html",e._b({},"xdh-map-html",e.$props,!1),[r("i",e._g({class:e.icon},e.$listeners))])},ar=[],or={name:"XdhMapIcon",components:{XdhMapHtml:ir},props:{...ir.props,icon:String}},lr=or,hr=Object(l["a"])(lr,sr,ar,!1,null,null,null),cr=hr.exports;cr.install=function(e){e.component(cr.name,cr)};var ur=cr,pr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("xdh-map-html",e._b({ref:"html",class:e.classes,style:e.styles,attrs:{positioning:"bottom-center"}},"xdh-map-html",e.$props,!1),[e.closable?r("i",{staticClass:"xdh-map-popup__close",on:{click:e.hide}}):e._e(),e.title?r("div",{staticClass:"xdh-map-popup__title"},[e._t("title"),r("i",{class:e.icon}),e._v(" "+e._s(e.title)+"\n  ")],2):e._e(),r("div",{staticClass:"xdh-map-popup__body"},[e._t("default")],2)])},dr=[],mr={name:"XdhMapPopup",components:{XdhMapHtml:ir},props:{...ir.props,width:String,height:String,title:{type:String},icon:{type:String},closable:{type:Boolean,default:!0},closeOnClick:{type:Boolean,default:!0},theme:{type:String,default:"light",validator(){return["dark","light"]}}},computed:{classes(){return["xdh-map-popup",`is-${this.theme}`]},styles(){return{width:this.width,height:this.height}}},methods:{show(e){this.$refs.html.show(e||this.position)},hide(){this.$refs.html.hide()},ready(e){this.closeOnClick&&e.on("click",this.hide)}},created(){this.parent=be.call(this),xe.call(this,this.ready)},beforeDestroy(){this.closeOnClick&&this.parent.map.un("click",this.hide)}},fr=mr,yr=Object(l["a"])(fr,pr,dr,!1,null,null,null),gr=yr.exports;gr.install=function(e){e.component(gr.name,gr)};var vr=gr,br=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div")},xr=[],wr=r("4787");const Er={opacity:{type:Number,default:1},visible:{type:Boolean,default:!0},zIndex:Number,minResolution:Number,maxResolution:Number,gradient:{type:Array,default(){return["#00f","#0ff","#0f0","#ff0","#f00"]}},radius:{type:Number,default:8},blur:{type:Number,default:15},shadow:{type:Number,default:250},weight:{type:[String,Function],default:"weight"}},Sr=Ie(Er);var kr={name:"XdhMapHeat",mixins:[_e,Sr],props:{...Sr.props,data:{type:Array,default(){return[]}},prop:{type:Object,default(){return{lon:"lon",lat:"lat",weight:"weight"}}}},watch:{data(){this.removeLayer(),this.draw()}},methods:{draw(){if(!this.parent)return;const e=this.createFeatures(),t=new b["a"];t.addFeatures(e),this.layer=new wr["a"]({source:t,...this.styleFactory()}),this.parent.map.addLayer(this.layer)},createFeatures(){const e=this.prop;return this.data.map(t=>{return new ue["a"]({geometry:new ce["a"]([t[e.lon],t[e.lat]]),weight:t[e.weight]||1})})},removeLayer(){this.parent&&this.layer&&(this.layer.disposeInternal(),this.parent.map.removeLayer(this.layer))}},created(){this.parent=be.call(this),xe.call(this,this.draw)},beforeDestroy(){this.removeLayer()}},Or=kr,Mr=Object(l["a"])(Or,br,xr,!1,null,null,null),_r=Mr.exports;_r.install=function(e){e.component(_r.name,_r)};var Ir=_r,jr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div")},Nr=[],Cr=function(e){const t=function(){this.map=e,this._mapOffset=[0,0]};return t.create=function(r){r.eachSeries(function(r){"ol"===r.get("coordinateSystem")&&(r.coordinateSystem=new t(e))})},t.getDimensionsInfo=function(){return["x","y"]},t.dimensions=["x","y"],Object.assign(t.prototype,{dimensions:t.dimensions,setMapOffset(e){this._mapOffset=e},dataToPoint(e){const t=this.map.getPixelFromCoordinate(e),r=this._mapOffset;return[t[0]-r[0],t[1]-r[1]]},pointToData(e){const t=this._mapOffset,r=this.map.containerPointToCoordinate({x:e[0]+t[0],y:e[1]+t[1]});return[r.x,r.y]}}),t},Tr={name:"XdhMapEcharts",mixins:[_e],props:{lib:{type:Object,required:!0},options:Object},watch:{options(){this.postRender()}},methods:{fixClickEvent(){this.map&&this.chart&&(this.proxyMapHandleClick=(e=>{this.eventData&&this.$emit("click",this.eventData)}),this.proxyChartMouseOver=(e=>{this.eventData=e}),this.proxyChartMouseOut=(e=>{this.eventData=null}),this.map.on("click",this.proxyMapHandleClick),this.chart.on("mouseover",this.proxyChartMouseOver),this.chart.on("mouseout",this.proxyChartMouseOut))},postRender(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.registerCoordinateSystem();const e=this.createContainer(),t=this.createChart(e);t.setOption(this.options||{}),this.resize(t)},100)},resize(e){if(!this.container||!this.map)return;const t=this.map,r=t.getSize();Object.assign(this.container.style,{height:r[1]+"px",width:r[0]+"px"}),e.resize()},createContainer(){if(!this.map)return;if(this.container)return this.container;const e=this.map,t=e.getSize(),r=document.createElement("div");return Object.assign(r.style,{height:t[1]+"px",width:t[0]+"px",top:0,left:0,zIndex:999,position:"absolute"}),this.container=r,e.getViewport().appendChild(r),this.container},registerCoordinateSystem(){if(!this.map||this.registered)return;const e=Cr(this.map);this.lib.registerCoordinateSystem("ol",e),this.registered=!0},createChart(e){return this.chart?this.chart:(this.chart=this.lib.init(e),this.fixClickEvent(),Object.keys(this.$listeners).forEach(e=>{this.chart.on(e,this.$listeners[e])}),this.chart)},ready(e){this.map=e,this.map.on("postrender",this.postRender)}},created(){this.parent=be.call(this),xe.call(this,this.ready)},beforeDestroy(){clearTimeout(this.timer),this.chart&&(this.chart.off("mouseover"),this.chart.off("mouseout"),Object.keys(this.$listeners).forEach(e=>{this.chart.off(e)}),this.chart.dispose()),this.container&&(this.container.parentNode.removeChild(this.container),this.container=null),this.map&&(this.map.un("click",this.proxyMapHandleClick),this.map.un("postrender",this.postRender))}},Rr=Tr,$r=Object(l["a"])(Rr,jr,Nr,!1,null,null,null),Pr=$r.exports;Pr.install=function(e){e.component(Pr.name,Pr)};var Fr=Pr,Ar=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div")},Gr=[];const Dr=Math.PI/180,Lr=180/Math.PI,zr=function(e,t){this.lon=e,this.lat=t,this.x=Dr*e,this.y=Dr*t};zr.prototype.view=function(){return String(this.lon).slice(0,4)+","+String(this.lat).slice(0,4)},zr.prototype.antipode=function(){const e=-1*this.lat,t=this.lon<0?180+this.lon:-1*(180-this.lon);return new zr(t,e)};const Vr=function(){this.coords=[],this.length=0};Vr.prototype.move_to=function(e){this.length++,this.coords.push(e)};const Xr=function(e){this.properties=e||{},this.geometries=[]};Xr.prototype.json=function(){if(this.geometries.length<=0)return{geometry:{type:"LineString",coordinates:null},type:"Feature",properties:this.properties};if(1===this.geometries.length)return{geometry:{type:"LineString",coordinates:this.geometries[0].coords},type:"Feature",properties:this.properties};{let e=[];for(let t=0;t<this.geometries.length;t++)e.push(this.geometries[t].coords);return{geometry:{type:"MultiLineString",coordinates:e},type:"Feature",properties:this.properties}}},Xr.prototype.wkt=function(){let e="",t="LINESTRING(",r=function(e){t+=e[0]+" "+e[1]+","};for(let n=0;n<this.geometries.length;n++){if(0===this.geometries[n].coords.length)return"LINESTRING(empty)";{let i=this.geometries[n].coords;i.forEach(r),e+=t.substring(0,t.length-1)+")"}}return e};const qr=function(e,t,r){if(!e||void 0===e.x||void 0===e.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");if(!t||void 0===t.x||void 0===t.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");this.start=new zr(e.x,e.y),this.end=new zr(t.x,t.y),this.properties=r||{};let n=this.start.x-this.end.x,i=this.start.y-this.end.y,s=Math.pow(Math.sin(i/2),2)+Math.cos(this.start.y)*Math.cos(this.end.y)*Math.pow(Math.sin(n/2),2);if(this.g=2*Math.asin(Math.sqrt(s)),this.g===Math.PI)throw new Error("it appears "+e.view()+" and "+t.view()+" are 'antipodal', e.g diametrically opposite, thus there is no single route but rather infinite");if(isNaN(this.g))throw new Error("could not calculate great circle between "+e+" and "+t)};qr.prototype.interpolate=function(e){let t=Math.sin((1-e)*this.g)/Math.sin(this.g),r=Math.sin(e*this.g)/Math.sin(this.g),n=t*Math.cos(this.start.y)*Math.cos(this.start.x)+r*Math.cos(this.end.y)*Math.cos(this.end.x),i=t*Math.cos(this.start.y)*Math.sin(this.start.x)+r*Math.cos(this.end.y)*Math.sin(this.end.x),s=t*Math.sin(this.start.y)+r*Math.sin(this.end.y),a=Lr*Math.atan2(s,Math.sqrt(Math.pow(n,2)+Math.pow(i,2))),o=Lr*Math.atan2(i,n);return[o,a]},qr.prototype.Arc=function(e,t){let r=[];if(!e||e<=2)r.push([this.start.lon,this.start.lat]),r.push([this.end.lon,this.end.lat]);else{let t=1/(e-1);for(let n=0;n<e;++n){let e=t*n,i=this.interpolate(e);r.push(i)}}let n=!1,i=0,s=t&&t.offset?t.offset:10,a=180-s,o=-180+s,l=360-s;for(let u=1;u<r.length;++u){let e=r[u-1][0],t=r[u][0],s=Math.abs(t-e);s>l&&(t>a&&e<o||e>a&&t<o)?n=!0:s>i&&(i=s)}let h=[];if(n&&i<s){let e=[];h.push(e);for(let t=0;t<r.length;++t){let n=parseFloat(r[t][0]);if(t>0&&Math.abs(n-r[t-1][0])>l){let i=parseFloat(r[t-1][0]),s=parseFloat(r[t-1][1]),l=parseFloat(r[t][0]),c=parseFloat(r[t][1]);if(i>-180&&i<o&&180===l&&t+1<r.length&&r[t-1][0]>-180&&r[t-1][0]<o){e.push([-180,r[t][1]]),t++,e.push([r[t][0],r[t][1]]);continue}if(i>a&&i<180&&-180===l&&t+1<r.length&&r[t-1][0]>a&&r[t-1][0]<180){e.push([180,r[t][1]]),t++,e.push([r[t][0],r[t][1]]);continue}if(i<o&&l>a){let e=i;i=l,l=e;let t=s;s=c,c=t}if(i>a&&l<o&&(l+=360),i<=180&&l>=180&&i<l){let n=(180-i)/(l-i),o=n*c+(1-n)*s;e.push([r[t-1][0]>a?180:-180,o]),e=[],e.push([r[t-1][0]>a?-180:180,o]),h.push(e)}else e=[],h.push(e);e.push([n,r[t][1]])}else e.push([r[t][0],r[t][1]])}}else{let e=[];h.push(e);for(let t=0;t<r.length;++t)e.push([r[t][0],r[t][1]])}let c=new Xr(this.properties);for(let u=0;u<h.length;++u){let e=new Vr;c.geometries.push(e);let t=h[u];for(let r=0;r<t.length;++r)e.move_to(t[r])}return c};var Br={name:"XdhMapTrack",mixins:[_e],props:{routes:{type:Array,required:!0,default(){return[]}},src:{type:String},steps:{type:Number,default:200},loop:{type:Boolean,default:!0},auto:{type:Boolean,default:!0}},data(){return{progress:0,pause:!1}},computed:{stepRoutes(){let e=[];return this.routes.forEach((t,r)=>{if(r>0){const n=this.routes[r-1],i=new qr({x:n[0],y:n[1]},{x:t[0],y:t[1]}),s=i.Arc(this.steps,{offset:0});e=e.concat(s.geometries[0].coords.slice(1))}else e.push(t)}),e},totalSteps(){return this.stepRoutes.length}},methods:{start(){this.pause=!1,this.$emit("start",this.stepRoutes,this.progress,0),this.move()},stop(){this.pause=!0,this.$emit("stop",this.stepRoutes,this.progress,0)},move(){if(!this.pause)if(++this.progress,this.progress>=this.totalSteps-1)this.loop&&(this.progress=0,requestAnimationFrame(this.move));else{const e=this.stepRoutes[this.progress],t=this.stepRoutes[this.progress+1],r=e[0]-t[0],n=e[1]-t[1],i=Math.atan2(n,r);if(this.src){const t=this.createStyle(i),r=new ce["a"](e);this.feature.setGeometry(r),this.feature.setStyle(t),this.feature._vm=this}this.$emit("move",this.stepRoutes,this.progress,i),requestAnimationFrame(this.move)}},createStyle(e){return he({className:"Style",image:{className:"Icon",src:this.src,rotateWithView:!1,rotation:-e}})},ready(e){if(this.map=e,this.routes.length<2)return;const t=this.routes[0],r=this.routes[1],n=t[0]-r[0],i=t[1]-r[1],s=Math.atan2(i,n);if(this.src){const e=this.createStyle(s),r=new ce["a"](t);this.feature=new ue["a"](r),this.feature.setStyle(e),this.parent.addFeature(this.feature)}this.auto&&this.start()}},created(){this.parent=be.call(this),xe.call(this,this.ready)},beforeDestroy(){this.parent&&this.feature&&this.parent.removeFeature(this.feature)}},Hr=Br,Ur=Object(l["a"])(Hr,Ar,Gr,!1,null,null,null),Zr=Ur.exports;Zr.install=function(e){e.component(Zr.name,Zr)};var Jr=Zr;r("1c44");const Wr=[Z,Ae,tt,rt,pt,Et,jt,Lt,Wt,ir,ur,vr,Ir,Fr,Jr],Kr=function(e){Kr.installed||Wr.forEach(t=>e.component(t.name,t))};"undefined"!==typeof window&&window.Vue&&Kr(window.Vue);var Yr={version:"1.0.0",install:Kr,Map:Z,Text:Ae,Rectangle:tt,Polygon:rt,Circle:pt,Line:Et,Placement:jt,Pointer:Lt,Image:Wt,Html:ir,Icon:ur,Popup:vr,Heat:Ir,Echarts:Fr,Track:Jr},Qr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"example"},[e._t("default")],2)},en=[],tn={},rn=tn,nn=(r("1ff8"),Object(l["a"])(rn,Qr,en,!1,null,"5bc1c308",null)),sn=nn.exports;r("4c9c");n["a"].use(Yr),n["a"].component("Example",sn),n["a"].config.productionTip=!1,new n["a"]({router:d,render:e=>e(c)}).$mount("#app")}});
//# sourceMappingURL=index.b7bfb311.js.map